<?php
/**
 * Generated by Haxe 4.1.4
 */

namespace helder\std\haxe;

use \helder\std\Reflect;
use \helder\std\StringTools;
use \helder\std\php\_Boot\HxAnon;
use \helder\std\php\Boot;
use \helder\std\Array_hx;
use \helder\std\Std;
use \helder\std\php\_Boot\HxString;
use \helder\std\haxe\ds\List_hx;
use \helder\std\haxe\_Template\TemplateExpr;
use \helder\std\StringBuf;
use \helder\std\EReg;
use \helder\std\haxe\iterators\ArrayIterator;

/**
 * `Template` provides a basic templating mechanism to replace values in a source
 * String, and to have some basic logic.
 * A complete documentation of the supported syntax is available at:
 * <https://haxe.org/manual/std-template.html>
 */
class Template {
	/**
	 * @var EReg
	 */
	static public $expr_float;
	/**
	 * @var EReg
	 */
	static public $expr_int;
	/**
	 * @var EReg
	 */
	static public $expr_splitter;
	/**
	 * @var EReg
	 */
	static public $expr_trim;
	/**
	 * @var mixed
	 * Global replacements which are used across all `Template` instances. This
	 * has lower priority than the context argument of `execute()`.
	 */
	static public $globals;
	/**
	 * @var ArrayIterator
	 */
	static public $hxKeepArrayIterator;
	/**
	 * @var EReg
	 */
	static public $splitter;

	/**
	 * @var StringBuf
	 */
	public $buf;
	/**
	 * @var mixed
	 */
	public $context;
	/**
	 * @var TemplateExpr
	 */
	public $expr;
	/**
	 * @var mixed
	 */
	public $macros;
	/**
	 * @var List_hx
	 */
	public $stack;

	/**
	 * Creates a new `Template` instance from `str`.
	 * `str` is parsed into tokens, which are stored for internal use. This
	 * means that multiple `execute()` operations on a single `Template` instance
	 * are more efficient than one `execute()` operations on multiple `Template`
	 * instances.
	 * If `str` is `null`, the result is unspecified.
	 * 
	 * @param string $str
	 * 
	 * @return void
	 */
	public function __construct ($str) {
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:90: characters 3-33
		$tokens = $this->parseTokens($str);
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:91: characters 3-28
		$this->expr = $this->parseBlock($tokens);
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:92: lines 92-93
		if (!$tokens->isEmpty()) {
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:93: characters 4-9
			throw Exception::thrown("Unexpected '" . (Std::string($tokens->first()->s)??'null') . "'");
		}
	}

	/**
	 * Executes `this` `Template`, taking into account `context` for
	 * replacements and `macros` for callback functions.
	 * If `context` has a field `name`, its value replaces all occurrences of
	 * `::name::` in the `Template`. Otherwise `Template.globals` is checked instead,
	 * If `name` is not a field of that either, `::name::` is replaced with `null`.
	 * If `macros` has a field `name`, all occurrences of `$$name(args)` are
	 * replaced with the result of calling that field. The first argument is
	 * always the `resolve()` method, followed by the given arguments.
	 * If `macros` has no such field, the result is unspecified.
	 * If `context` is `null`, the result is unspecified. If `macros` is `null`,
	 * no macros are used.
	 * 
	 * @param mixed $context
	 * @param mixed $macros
	 * 
	 * @return string
	 */
	public function execute ($context, $macros = null) {
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:113: characters 3-51
		$this->macros = ($macros === null ? new HxAnon() : $macros);
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:114: characters 3-25
		$this->context = $context;
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:115: characters 3-21
		$this->stack = new List_hx();
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:116: characters 3-24
		$this->buf = new StringBuf();
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:117: characters 3-12
		$this->run($this->expr);
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:118: characters 3-24
		return $this->buf->b;
	}

	/**
	 * @param string $v
	 * 
	 * @return \Closure
	 */
	public function makeConst ($v) {
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:303: characters 3-21
		Template::$expr_trim->match($v);
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:304: characters 3-27
		$v = Template::$expr_trim->matched(1);
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:305: lines 305-308
		if (HxString::charCodeAt($v, 0) === 34) {
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:306: characters 4-40
			$str = \mb_substr($v, 1, mb_strlen($v) - 2);
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:307: characters 4-32
			return function () use (&$str) {
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:307: characters 22-32
				return $str;
			};
		}
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:309: lines 309-314
		if (Template::$expr_int->match($v)) {
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:310: characters 4-28
			$i = Std::parseInt($v);
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:311: lines 311-313
			return function () use (&$i) {
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:312: characters 5-13
				return $i;
			};
		}
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:315: lines 315-320
		if (Template::$expr_float->match($v)) {
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:316: characters 4-30
			$f = Std::parseFloat($v);
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:317: lines 317-319
			return function () use (&$f) {
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:318: characters 5-13
				return $f;
			};
		}
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:321: characters 3-17
		$me = $this;
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:322: lines 322-324
		return function () use (&$v, &$me) {
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:323: characters 4-24
			return $me->resolve($v);
		};
	}

	/**
	 * @param List_hx $l
	 * 
	 * @return \Closure
	 */
	public function makeExpr ($l) {
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:344: characters 3-35
		return $this->makePath($this->makeExpr2($l), $l);
	}

	/**
	 * @param List_hx $l
	 * 
	 * @return \Closure
	 */
	public function makeExpr2 ($l) {
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:361: characters 3-16
		$this->skipSpaces($l);
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:362: characters 3-19
		$p = $l->pop();
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:363: characters 3-16
		$this->skipSpaces($l);
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:364: lines 364-365
		if ($p === null) {
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:365: characters 4-9
			throw Exception::thrown("<eof>");
		}
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:366: lines 366-367
		if ($p->s) {
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:367: characters 4-25
			return $this->makeConst($p->p);
		}
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:368: characters 11-14
		$__hx__switch = ($p->p);
		if ($__hx__switch === "!") {
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:425: characters 5-39
			$e = $this->makeExpr($l);
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:426: lines 426-429
			return function () use (&$e) {
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:427: characters 6-26
				$v = $e();
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:428: characters 13-38
				if ($v !== null) {
					#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:428: characters 27-37
					return $v === false;
				} else {
					#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:428: characters 13-38
					return true;
				}
			};
		} else if ($__hx__switch === "(") {
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:370: characters 5-18
			$this->skipSpaces($l);
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:371: characters 5-34
			$e1 = $this->makeExpr($l);
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:372: characters 5-18
			$this->skipSpaces($l);
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:373: characters 5-21
			$p1 = $l->pop();
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:374: lines 374-375
			if (($p1 === null) || $p1->s) {
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:375: characters 6-11
				throw Exception::thrown($p1);
			}
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:376: lines 376-377
			if ($p1->p === ")") {
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:377: characters 6-15
				return $e1;
			}
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:378: characters 5-18
			$this->skipSpaces($l);
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:379: characters 5-34
			$e2 = $this->makeExpr($l);
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:380: characters 5-18
			$this->skipSpaces($l);
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:381: characters 5-22
			$p2 = $l->pop();
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:382: characters 5-18
			$this->skipSpaces($l);
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:383: lines 383-384
			if (($p2 === null) || ($p2->p !== ")")) {
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:384: characters 6-11
				throw Exception::thrown($p2);
			}
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:385: characters 20-23
			$__hx__switch = ($p1->p);
			if ($__hx__switch === "!=") {
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:413: lines 413-415
				return function () use (&$e1, &$e2) {
					#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:414: characters 8-32
					return !Boot::equal($e1(), $e2());
				};
			} else if ($__hx__switch === "&&") {
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:416: lines 416-418
				return function () use (&$e1, &$e2) {
					#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:417: characters 8-32
					return $e1() && $e2();
				};
			} else if ($__hx__switch === "*") {
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:392: lines 392-394
				return function () use (&$e1, &$e2) {
					#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:393: characters 8-31
					return $e1() * $e2();
				};
			} else if ($__hx__switch === "+") {
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:386: lines 386-388
				return function () use (&$e1, &$e2) {
					#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:387: characters 8-31
					return Boot::addOrConcat($e1(), $e2());
				};
			} else if ($__hx__switch === "-") {
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:389: lines 389-391
				return function () use (&$e1, &$e2) {
					#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:390: characters 8-31
					return $e1() - $e2();
				};
			} else if ($__hx__switch === "/") {
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:395: lines 395-397
				return function () use (&$e1, &$e2) {
					#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:396: characters 8-31
					return $e1() / $e2();
				};
			} else if ($__hx__switch === "<") {
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:401: lines 401-403
				return function () use (&$e1, &$e2) {
					#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:402: characters 8-31
					return $e1() < $e2();
				};
			} else if ($__hx__switch === "<=") {
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:407: lines 407-409
				return function () use (&$e1, &$e2) {
					#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:408: characters 8-32
					return $e1() <= $e2();
				};
			} else if ($__hx__switch === "==") {
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:410: lines 410-412
				return function () use (&$e1, &$e2) {
					#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:411: characters 8-32
					return Boot::equal($e1(), $e2());
				};
			} else if ($__hx__switch === ">") {
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:398: lines 398-400
				return function () use (&$e1, &$e2) {
					#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:399: characters 8-31
					return $e1() > $e2();
				};
			} else if ($__hx__switch === ">=") {
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:404: lines 404-406
				return function () use (&$e1, &$e2) {
					#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:405: characters 8-32
					return $e1() >= $e2();
				};
			} else if ($__hx__switch === "||") {
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:419: lines 419-421
				return function () use (&$e1, &$e2) {
					#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:420: characters 8-32
					return $e1() || $e2();
				};
			} else {
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:422: characters 15-20
				throw Exception::thrown("Unknown operation " . ($p1->p??'null'));
			}
		} else if ($__hx__switch === "-") {
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:431: characters 5-25
			$e3 = $this->makeExpr($l);
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:432: lines 432-434
			return function () use (&$e3) {
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:433: characters 6-17
				return -$e3();
			};
		}
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:436: characters 3-8
		throw Exception::thrown($p->p);
	}

	/**
	 * @param \Closure $e
	 * @param List_hx $l
	 * 
	 * @return \Closure
	 */
	public function makePath ($e, $l) {
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:328: characters 3-21
		$p = $l->first();
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:329: lines 329-330
		if (($p === null) || ($p->p !== ".")) {
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:330: characters 4-12
			return $e;
		}
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:331: characters 3-10
		$l->pop();
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:332: characters 3-23
		$field = $l->pop();
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:333: lines 333-334
		if (($field === null) || !$field->s) {
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:334: characters 4-9
			throw Exception::thrown($field->p);
		}
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:335: characters 3-19
		$f = $field->p;
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:336: characters 3-21
		Template::$expr_trim->match($f);
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:337: characters 3-27
		$f = Template::$expr_trim->matched(1);
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:338: lines 338-340
		return $this->makePath(function () use (&$f, &$e) {
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:339: characters 4-32
			return Reflect::field($e(), $f);
		}, $l);
	}

	/**
	 * @param List_hx $tokens
	 * 
	 * @return TemplateExpr
	 */
	public function parse ($tokens) {
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:198: characters 3-24
		$t = $tokens->pop();
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:199: characters 3-15
		$p = $t->p;
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:200: lines 200-201
		if ($t->s) {
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:201: characters 4-19
			return TemplateExpr::OpStr($p);
		}
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:203: lines 203-208
		if ($t->l !== null) {
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:204: characters 4-24
			$pe = new List_hx();
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:205: lines 205-206
			$_g = 0;
			$_g1 = $t->l;
			while ($_g < $_g1->length) {
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:205: characters 9-10
				$p1 = ($_g1->arr[$_g] ?? null);
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:205: lines 205-206
				++$_g;
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:206: characters 5-39
				$pe->add($this->parseBlock($this->parseTokens($p1)));
			}
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:207: characters 4-25
			return TemplateExpr::OpMacro($p, $pe);
		}
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:209: lines 209-222
		$kwdEnd = function ($kwd) use (&$p) {
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:210: characters 4-17
			$pos = -1;
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:211: characters 4-28
			$length = mb_strlen($kwd);
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:212: lines 212-220
			if (\mb_substr($p, 0, $length) === $kwd) {
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:213: characters 5-8
				$pos = $length;
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:214: characters 15-31
				$_g_offset = 0;
				$_g_s = \mb_substr($p, $length, null);
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:214: lines 214-219
				while ($_g_offset < mb_strlen($_g_s)) {
					$c = StringTools::fastCodeAt($_g_s, $_g_offset++);
					#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:215: lines 215-218
					if ($c === 32) {
						#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:216: characters 22-27
						++$pos;
					} else {
						#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:217: characters 15-20
						break;
					}
				}
			}
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:221: characters 4-14
			return $pos;
		};
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:224: characters 3-26
		$pos = $kwdEnd("if");
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:225: lines 225-247
		if ($pos > 0) {
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:226: characters 8-37
			$p = \mb_substr($p, $pos, mb_strlen($p) - $pos);
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:227: characters 4-25
			$e = $this->parseExpr($p);
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:228: characters 4-33
			$eif = $this->parseBlock($tokens);
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:229: characters 4-27
			$t = $tokens->first();
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:230: characters 4-14
			$eelse = null;
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:231: lines 231-232
			if ($t === null) {
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:232: characters 5-10
				throw Exception::thrown("Unclosed 'if'");
			}
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:233: lines 233-245
			if ($t->p === "end") {
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:234: characters 5-17
				$tokens->pop();
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:235: characters 5-10
				$eelse = null;
			} else if ($t->p === "else") {
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:237: characters 5-17
				$tokens->pop();
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:238: characters 5-10
				$eelse = $this->parseBlock($tokens);
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:239: characters 5-6
				$t = $tokens->pop();
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:240: lines 240-241
				if (($t === null) || ($t->p !== "end")) {
					#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:241: characters 6-11
					throw Exception::thrown("Unclosed 'else'");
				}
			} else {
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:243: characters 5-8
				$t->p = \mb_substr($t->p, 4, mb_strlen($t->p) - 4);
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:244: characters 5-10
				$eelse = $this->parse($tokens);
			}
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:246: characters 4-30
			return TemplateExpr::OpIf($e, $eif, $eelse);
		}
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:248: characters 3-31
		$pos = $kwdEnd("foreach");
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:249: lines 249-257
		if ($pos >= 0) {
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:250: characters 8-37
			$p = \mb_substr($p, $pos, mb_strlen($p) - $pos);
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:251: characters 4-25
			$e = $this->parseExpr($p);
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:252: characters 4-34
			$efor = $this->parseBlock($tokens);
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:253: characters 4-25
			$t = $tokens->pop();
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:254: lines 254-255
			if (($t === null) || ($t->p !== "end")) {
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:255: characters 5-10
				throw Exception::thrown("Unclosed 'foreach'");
			}
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:256: characters 4-29
			return TemplateExpr::OpForeach($e, $efor);
		}
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:258: lines 258-259
		if (Template::$expr_splitter->match($p)) {
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:259: characters 4-31
			return TemplateExpr::OpExpr($this->parseExpr($p));
		}
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:260: characters 3-18
		return TemplateExpr::OpVar($p);
	}

	/**
	 * @param List_hx $tokens
	 * 
	 * @return TemplateExpr
	 */
	public function parseBlock ($tokens) {
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:183: characters 3-22
		$l = new List_hx();
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:184: lines 184-191
		while (true) {
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:185: characters 4-27
			$t = $tokens->first();
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:186: lines 186-187
			if ($t === null) {
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:187: characters 5-10
				break;
			}
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:188: lines 188-189
			if (!$t->s && (($t->p === "end") || ($t->p === "else") || (\mb_substr($t->p, 0, 7) === "elseif "))) {
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:189: characters 5-10
				break;
			}
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:190: characters 4-24
			$l->add($this->parse($tokens));
		}
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:192: lines 192-193
		if ($l->length === 1) {
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:193: characters 4-20
			return $l->first();
		}
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:194: characters 3-20
		return TemplateExpr::OpBlock($l);
	}

	/**
	 * @param string $data
	 * 
	 * @return \Closure
	 */
	public function parseExpr ($data) {
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:264: characters 3-33
		$l = new List_hx();
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:265: characters 3-19
		$expr = $data;
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:266: lines 266-274
		while (Template::$expr_splitter->match($data)) {
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:267: characters 4-39
			$p = Template::$expr_splitter->matchedPos();
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:268: characters 4-26
			$k = $p->pos + $p->len;
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:269: lines 269-270
			if ($p->pos !== 0) {
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:270: characters 5-47
				$l->add(new HxAnon([
					"p" => \mb_substr($data, 0, $p->pos),
					"s" => true,
				]));
			}
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:271: characters 4-37
			$p1 = Template::$expr_splitter->matched(0);
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:272: characters 4-41
			$l->add(new HxAnon([
				"p" => $p1,
				"s" => HxString::indexOf($p1, "\"") >= 0,
			]));
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:273: characters 4-8
			$data = Template::$expr_splitter->matchedRight();
		}
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:275: lines 275-284
		if (mb_strlen($data) !== 0) {
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:276: characters 19-23
			$_g_offset = 0;
			$_g_s = $data;
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:276: lines 276-283
			while ($_g_offset < mb_strlen($_g_s)) {
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:276: characters 19-23
				$_g1_key = $_g_offset;
				$_g1_value = StringTools::fastCodeAt($_g_s, $_g_offset++);
				$i = $_g1_key;
				$c = $_g1_value;
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:277: lines 277-282
				if ($c !== 32) {
					#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:280: characters 7-42
					$l->add(new HxAnon([
						"p" => \mb_substr($data, $i, null),
						"s" => true,
					]));
					#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:281: characters 7-12
					break;
				}
			}
		}
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:285: characters 3-23
		$e = null;
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:286: lines 286-292
		try {
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:287: characters 4-5
			$e = $this->makeExpr($l);
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:288: lines 288-289
			if (!$l->isEmpty()) {
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:289: characters 5-10
				throw Exception::thrown($l->first()->p);
			}
		} catch(\Throwable $_g) {
			NativeStackTrace::saveStack($_g);
			$_g1 = Exception::caught($_g)->unwrap();
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:286: lines 286-292
			if (is_string($_g1)) {
				$s = $_g1;
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:291: characters 4-9
				throw Exception::thrown("Unexpected '" . ($s??'null') . "' in " . ($expr??'null'));
			} else {
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:286: lines 286-292
				throw $_g;
			}
		}
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:293: lines 293-299
		return function () use (&$e, &$expr) {
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:294: lines 294-298
			try {
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:295: characters 5-15
				return $e();
			} catch(\Throwable $_g) {
				NativeStackTrace::saveStack($_g);
				$exc = Exception::caught($_g)->unwrap();
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:297: characters 5-10
				throw Exception::thrown("Error : " . (Std::string($exc)??'null') . " in " . ($expr??'null'));
			}
		};
	}

	/**
	 * @param string $data
	 * 
	 * @return List_hx
	 */
	public function parseTokens ($data) {
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:136: characters 3-34
		$tokens = new List_hx();
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:137: lines 137-176
		while (Template::$splitter->match($data)) {
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:138: characters 4-34
			$p = Template::$splitter->matchedPos();
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:139: lines 139-140
			if ($p->pos > 0) {
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:140: characters 5-61
				$tokens->add(new HxAnon([
					"p" => \mb_substr($data, 0, $p->pos),
					"s" => true,
					"l" => null,
				]));
			}
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:143: lines 143-147
			if (HxString::charCodeAt($data, $p->pos) === 58) {
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:144: characters 5-74
				$tokens->add(new HxAnon([
					"p" => \mb_substr($data, $p->pos + 2, $p->len - 4),
					"s" => false,
					"l" => null,
				]));
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:145: characters 5-35
				$data = Template::$splitter->matchedRight();
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:146: characters 5-13
				continue;
			}
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:150: characters 4-29
			$parp = $p->pos + $p->len;
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:151: characters 4-17
			$npar = 1;
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:152: characters 4-20
			$params = new Array_hx();
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:153: characters 4-18
			$part = "";
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:154: lines 154-172
			while (true) {
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:155: characters 5-35
				$c = HxString::charCodeAt($data, $parp);
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:156: characters 5-11
				++$parp;
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:157: lines 157-165
				if ($c === 40) {
					#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:158: characters 6-12
					++$npar;
				} else if ($c === 41) {
					#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:160: characters 6-12
					--$npar;
					#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:161: lines 161-162
					if ($npar <= 0) {
						#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:162: characters 7-12
						break;
					}
				} else if ($c === null) {
					#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:164: characters 6-11
					throw Exception::thrown("Unclosed macro parenthesis");
				}
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:166: lines 166-171
				if (($c === 44) && ($npar === 1)) {
					#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:167: characters 6-23
					$params->arr[$params->length++] = $part;
					#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:168: characters 6-15
					$part = "";
				} else {
					#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:170: characters 6-36
					$part = ($part??'null') . (\mb_chr($c)??'null');
				}
			}
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:173: characters 4-21
			$params->arr[$params->length++] = $part;
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:174: characters 4-61
			$tokens->add(new HxAnon([
				"p" => Template::$splitter->matched(2),
				"s" => false,
				"l" => $params,
			]));
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:175: characters 11-48
			$data = \mb_substr($data, $parp, mb_strlen($data) - $parp);
		}
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:177: lines 177-178
		if (mb_strlen($data) > 0) {
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:178: characters 4-43
			$tokens->add(new HxAnon([
				"p" => $data,
				"s" => true,
				"l" => null,
			]));
		}
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:179: characters 3-16
		return $tokens;
	}

	/**
	 * @param string $v
	 * 
	 * @return mixed
	 */
	public function resolve ($v) {
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:122: lines 122-123
		if ($v === "__current__") {
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:123: characters 4-18
			return $this->context;
		}
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:124: characters 3-47
		$value = Reflect::getProperty($this->context, $v);
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:125: lines 125-126
		if (($value !== null) || Reflect::hasField($this->context, $v)) {
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:126: characters 4-16
			return $value;
		}
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:127: characters 15-20
		$_g_head = $this->stack->h;
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:127: lines 127-131
		while ($_g_head !== null) {
			$val = $_g_head->item;
			$_g_head = $_g_head->next;
			$ctx = $val;
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:128: characters 4-9
			$value = Reflect::getProperty($ctx, $v);
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:129: lines 129-130
			if (($value !== null) || Reflect::hasField($ctx, $v)) {
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:130: characters 5-17
				return $value;
			}
		}
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:132: characters 3-35
		return Reflect::field(Template::$globals, $v);
	}

	/**
	 * @param TemplateExpr $e
	 * 
	 * @return void
	 */
	public function run ($e) {
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:440: lines 440-504
		$__hx__switch = ($e->index);
		if ($__hx__switch === 0) {
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:441: characters 15-16
			$v = $e->params[0];
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:442: characters 5-36
			$this->buf->add(Std::string($this->resolve($v)));
		} else if ($__hx__switch === 1) {
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:443: characters 16-17
			$e1 = $e->params[0];
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:444: characters 5-29
			$this->buf->add(Std::string($e1()));
		} else if ($__hx__switch === 2) {
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:445: characters 22-27
			$eelse = $e->params[2];
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:445: characters 17-20
			$eif = $e->params[1];
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:445: characters 14-15
			$e1 = $e->params[0];
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:446: characters 5-25
			$v = $e1();
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:447: lines 447-451
			if (($v === null) || ($v === false)) {
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:448: lines 448-449
				if ($eelse !== null) {
					#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:449: characters 7-17
					$this->run($eelse);
				}
			} else {
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:451: characters 6-14
				$this->run($eif);
			}
		} else if ($__hx__switch === 3) {
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:452: characters 15-18
			$str = $e->params[0];
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:453: characters 5-17
			$this->buf->add($str);
		} else if ($__hx__switch === 4) {
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:454: characters 17-18
			$l = $e->params[0];
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:455: characters 15-16
			$_g_head = $l->h;
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:455: lines 455-456
			while ($_g_head !== null) {
				$val = $_g_head->item;
				$_g_head = $_g_head->next;
				$e1 = $val;
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:456: characters 6-12
				$this->run($e1);
			}
		} else if ($__hx__switch === 5) {
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:457: characters 22-26
			$loop = $e->params[1];
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:457: characters 19-20
			$e1 = $e->params[0];
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:458: characters 5-25
			$v = $e1();
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:459: lines 459-470
			try {
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:460: characters 6-35
				$x = $v->iterator();
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:461: lines 461-462
				if (Boot::dynamicField($x, 'hasNext') === null) {
					#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:462: characters 7-12
					throw Exception::thrown(null);
				}
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:463: characters 6-7
				$v = $x;
			} catch(\Throwable $_g) {
				NativeStackTrace::saveStack($_g);
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:465: lines 465-470
				try {
					#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:466: lines 466-467
					if (Boot::dynamicField($v, 'hasNext') === null) {
						#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:467: characters 8-13
						throw Exception::thrown(null);
					}
				} catch(\Throwable $_g) {
					#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:469: characters 7-12
					throw Exception::thrown("Cannot iter on " . (Std::string($v)??'null'));
				}
			}
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:471: characters 5-24
			$this->stack->push($this->context);
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:472: characters 5-33
			$v1 = $v;
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:473: characters 17-18
			$ctx = $v1;
			while ($ctx->hasNext()) {
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:473: lines 473-476
				$ctx1 = $ctx->next();
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:474: characters 6-13
				$this->context = $ctx1;
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:475: characters 6-15
				$this->run($loop);
			}
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:477: characters 5-12
			$this->context = $this->stack->pop();
		} else if ($__hx__switch === 6) {
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:478: characters 20-26
			$params = $e->params[1];
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:478: characters 17-18
			$m = $e->params[0];
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:479: characters 5-46
			$v = Reflect::field($this->macros, $m);
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:480: characters 5-35
			$pl = new Array_hx();
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:481: characters 5-19
			$old = $this->buf;
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:482: characters 5-21
			$pl->arr[$pl->length++] = Boot::getInstanceClosure($this, 'resolve');
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:483: characters 15-21
			$_g_head = $params->h;
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:483: lines 483-491
			while ($_g_head !== null) {
				$val = $_g_head->item;
				$_g_head = $_g_head->next;
				$p = $val;
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:484: lines 484-490
				if ($p->index === 0) {
					#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:485: characters 18-19
					$v1 = $p->params[0];
					#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:485: characters 22-41
					$x = $this->resolve($v1);
					$pl->arr[$pl->length++] = $x;
				} else {
					#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:487: characters 8-11
					$this->buf = new StringBuf();
					#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:488: characters 8-14
					$this->run($p);
					#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:489: characters 8-31
					$pl->arr[$pl->length++] = $this->buf->b;
				}
			}
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:492: characters 5-8
			$this->buf = $old;
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:493: lines 493-503
			try {
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:494: characters 6-60
				$this->buf->add(Std::string(Reflect::callMethod($this->macros, $v, $pl)));
			} catch(\Throwable $_g) {
				NativeStackTrace::saveStack($_g);
				$e = Exception::caught($_g)->unwrap();
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:496: characters 6-59
				$plstr = null;
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:496: characters 18-58
				try {
					#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:496: characters 6-59
					$plstr = $pl->join(",");
				} catch(\Throwable $_g) {
					$plstr = "???";
				}
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:497: characters 6-85
				$msg = "Macro call " . ($m??'null') . "(" . ($plstr??'null') . ") failed (" . (Std::string($e)??'null') . ")";
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:501: characters 6-11
				throw Exception::thrown($msg);
			}
		}
	}

	/**
	 * @param List_hx $l
	 * 
	 * @return void
	 */
	public function skipSpaces ($l) {
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:348: characters 3-21
		$p = $l->first();
		#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:349: lines 349-357
		while ($p !== null) {
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:350: characters 14-17
			$_g_offset = 0;
			$_g_s = $p->p;
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:350: lines 350-354
			while ($_g_offset < mb_strlen($_g_s)) {
				$c = StringTools::fastCodeAt($_g_s, $_g_offset++);
				#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:351: lines 351-353
				if ($c !== 32) {
					#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:352: characters 6-12
					return;
				}
			}
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:355: characters 4-11
			$l->pop();
			#/home/runner/haxe/versions/4.1.4/std/haxe/Template.hx:356: characters 4-5
			$p = $l->first();
		}
	}

	/**
	 * @internal
	 * @access private
	 */
	static public function __hx__init ()
	{
		static $called = false;
		if ($called) return;
		$called = true;


		self::$splitter = new EReg("(::[A-Za-z0-9_ ()&|!+=/><*.\"-]+::|\\\$\\\$([A-Za-z0-9_-]+)\\()", "");
		self::$expr_splitter = new EReg("(\\(|\\)|[ \x0D\x0A\x09]*\"[^\"]*\"[ \x0D\x0A\x09]*|[!+=/><*.&|-]+)", "");
		self::$expr_trim = new EReg("^[ ]*([^ ]+)[ ]*\$", "");
		self::$expr_int = new EReg("^[0-9]+\$", "");
		self::$expr_float = new EReg("^([+-]?)(?=\\d|,\\d)\\d*(,\\d*)?([Ee]([+-]?\\d+))?\$", "");
		self::$globals = new HxAnon();
		self::$hxKeepArrayIterator = new ArrayIterator(new Array_hx());
	}
}

Boot::registerClass(Template::class, 'haxe.Template');
Template::__hx__init();
